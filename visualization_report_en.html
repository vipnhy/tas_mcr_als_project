
<!DOCTYPE html>
<html>
<head>
    <title>TAS MCR-ALS Global Fit Results Visualization Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
        h1, h2, h3 { color: #333; }
        .section { margin-bottom: 30px; }
        .metric { background: #f5f5f5; padding: 10px; border-radius: 5px; margin: 10px 0; }
        .plot { text-align: center; margin: 20px 0; }
        img { max-width: 100%; height: auto; border: 1px solid #ddd; }
        .interpretation { background: #e8f4f8; padding: 15px; border-left: 4px solid #4a90e2; margin: 15px 0; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 5px; margin: 10px 0; }
        table { border-collapse: collapse; width: 100%; margin: 15px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>TAS MCR-ALS Global Fit Results Visualization Report</h1>

    <div class="section">
        <h2>Overview</h2>
        <p>This report presents the comprehensive results of TAS (Transient Absorption Spectroscopy) analysis combining MCR-ALS (Multivariate Curve Resolution - Alternating Least Squares) with global fitting.</p>
        <p><strong>Output Directory:</strong> analysis_runs\demo_vis_batch_20251002_102611\global_fit\components_4\run_02_seed_4009801342\gta_sequential\attempt_02</p>
        <p><strong>Analysis Time:</strong> 2025-10-02</p>
    </div>

    <div class="section">
        <h2>Results Interpretation</h2>
        <div class="interpretation">
            <h3>Fit Quality Overview</h3><p>Chi-square value (χ²) = 0.005167, Reduced chi-square = 2.91e-07.</p><p>✓ Excellent fit quality with very small residuals.</p><h3>Kinetic Parameter Analysis</h3><p><strong>k_0</strong> = 0.158879 ± 1.1%</p><p><strong>k_1</strong> = 0.159182 ± 5.6%</p><p><strong>k_2</strong> = 0.159177 ± 4.8%</p><p>These parameters represent the reaction rate constants of different components.</p><h3>Data Dimensions</h3><p>Concentration profiles: 74 time points × 4 components</p><p>Spectral data: 236 wavelength points × 4 components</p><h3>Analysis Recommendations</h3><ul><li>Check if residual plots show random distribution (no systematic errors)</li><li>Verify that spectra have reasonable shapes and features</li><li>Compare fitting results from different attempts to select the best model</li><li>Consider physical interpretation of kinetic parameters</li></ul>
        </div>
    </div>

    <div class="section">
        <h2>Visualization Charts</h2>
        <div class="plot">
            <img src="visualization_plots.png" alt="Visualization Charts">
            <p><em>Fig 1: Comprehensive global fit results chart, including concentration profiles, spectra, residuals, and quality metrics</em></p>
        </div>
    </div>

    <div class="section">
        <h2>Fit Quality Assessment</h2>
        <div style='display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;'><div class="metric"><strong>fitting method:</strong> leastsq</div><div class="metric"><strong>function evals:</strong> 59.0</div><div class="metric"><strong>data points:</strong> 17775.0</div><div class="metric"><strong>variables:</strong> 3.0</div><div class="metric"><strong>chi-square:</strong> 0.00516664</div><div class="metric"><strong>reduced chi-square:</strong> 2.9072e-07</div><div class="metric"><strong>Akaike info crit:</strong> -267526.957</div><div class="metric"><strong>Bayesian info crit:</strong> -267503.601</div></div>
    </div>

    <div class="section">
        <h2>Parameter Analysis</h2>
        <table border='1' style='border-collapse: collapse; width: 100%;'><tr><th>Parameter</th><th>Value</th><th>Uncertainty</th><th>Initial Value</th></tr><tr><td>k_0</td><td>0.15887861</td><td>1.10853665</td><td>0.04120313</td></tr><tr><td>k_1</td><td>0.15918231</td><td>5.63876247</td><td>0.03131044</td></tr><tr><td>k_2</td><td>0.15917713</td><td>4.84146101</td><td>0.2764216</td></tr></table>
    </div>

    <div class="section">
        <h2>Data Summary</h2>
        <div style='display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;'>
                <div class="metric">
                    <strong>Concentration</strong><br>
                    74 rows × columns 4<br>
                    <small>Data Type: float64</small>
                </div>
                <div class="metric">
                    <strong>Spectra</strong><br>
                    236 rows × columns 4<br>
                    <small>Data Type: float64</small>
                </div>
                <div class="metric">
                    <strong>Residuals</strong><br>
                    75 rows × columns 237<br>
                    <small>Data Type: float64</small>
                </div></div>
    </div>

    <div class="section">
        <h2>Usage Instructions</h2>
        <p>This report is automatically generated by TAS analysis tools. To regenerate, run:</p>
        <pre><code>python visualize_results.py "analysis_runs\demo_vis_batch_20251002_102611\global_fit\components_4\run_02_seed_4009801342\gta_sequential\attempt_02"</code></pre>
    </div>
</body>
</html>
        